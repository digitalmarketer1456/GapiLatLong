<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Google Maps - Long & Lati</title>
  </head>
  <body>
    <input
      id="searchTextField"
      type="text"
      size="50"
      placeholder="Enter a location"
      autocomplete="on"
      runat="server"
    />
    <input type="hidden" id="city2" name="city2" />
    <input type="hidden" id="cityLat" name="cityLat" />
    <input type="hidden" id="cityLng" name="cityLng" />

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyAa9ch-c7JD2uhSgvzVpDG40g-j5O8Cjs8&libraries=places&callback=initAutocomplete"></script>


    <script type="text/javascript">
      function initialize() {
        var input = document.getElementById("searchTextField");
        var autocomplete = new google.maps.places.Autocomplete(input);
        google.maps.event.addListener(
          autocomplete,
          "place_changed",
          function () {
            var place = autocomplete.getPlace();
            // get lat
            var lat = place.geometry.location.lat();
            // get lng
            var lng = place.geometry.location.lng();

            document.getElementById("city2").value = place.name;
            document.getElementById("cityLat").value =
              place.geometry.location.lat();
            document.getElementById("cityLng").value =
              place.geometry.location.lng();
            alert("This function is working!");
            alert(place.name);
            alert(place.address_components[0].long_name);
          }
        );
      }
      google.maps.event.addDomListener(window, "load", initialize);
    </script>
  </body>
</html>
